<html>
<head>
  <title>Home</title>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <meta name="viewport" content="width=device-width,initial-scale=1">
</head>
<body>
<ul>
  <li onclick="kakaoLogin();">
    <a href="javascript:void(0)">
      <span>카카오 로그인</span>
    </a>
  </li>
</ul>

<script src="https://developers.kakao.com/sdk/js/kakao.js"></script>
<script>
  //카카오로그인
  function kakaoLogin() {

    $.ajax({
        url: '/login/getKakaoAuthUrl',
        type: 'get',
        async: false,
        dataType: 'text',
        success: function (res) {
            location.href = res;
        }
    });

  }

  $(document).ready(function() {

      var kakaoInfo = '${kakaoInfo}';

      if(kakaoInfo != ""){
          var data = JSON.parse(kakaoInfo);

          alert("카카오로그인 성공 \n accessToken : " + data['accessToken']);
          alert(
          "user : \n" + "email : "
          + data['email']
          + "\n nickname : "
          + data['nickname']);
      }
  });

  </script>
</body>
</html>